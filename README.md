# JWTGenSwift
JWT token generation in Swift

## Usage

Add the `JWTGenSwift` package to the dependencies within your applicationâ€™s `Package.swift` file. Substitute `"x.x.x"` with the latest `JWTGenSwift` [release](https://github.com/Mathtender/JWTGenSwift/releases).
```swift
.package(url: "https://github.com/Mathtender/JWTGenSwift.git", from: "x.x.x")
```
Add `JWTGenSwift` to your target's dependencies:
```swift
.target(name: "targetName", dependencies: ["JWTGenSwift"])
```
#### Import package
```swift
import JWTGenSwift
```

## Getting Started

#### Header

The JWTHeader struct contains the fields of the JSON Web Token header.
The `type` value defaults to "JWT" and will be encoded as "typ". 
The `algorithm` value will be encoded as "alg" and should be specified in accordance with `SigningAlgorithm`.
The other Header fields can be set via `extra` dictionary.

```swift
let header = JWTHeader(algorithm: .RS256, extra: ["kid": "KeyId"])
```

#### Payload

Payload contains info about an entity and additional data.
It should be created using Swift type that conforms to the `Encodable` protocol.
The fields of this type represent the information that will be shared using the JWT.  

```swift
struct JWTPayload: Encodable {
    let iss: String
    let aud: String
    let exp: Date
}
let payload = JWTPayload(iss: "iss", aud: "aud", exp: Date(timeIntervalSinceNow: 3600))
```

#### Signing and RSAPrivateKey

Part of JWT is a signed header and payload data.
In order to create this signed data you need to provide RSA private key.
It can be done by creating `RSAPrivateKey` object from pem key.

```swift
let privateKey = try RSAPrivateKey(pemKey: "pemKey")
```

#### JWT generation

After successful creation of header, payload and private key JWT can be generated by calling `generateJWT` method of `JWTGenerator`.
The result of calling this method is a `JWT` in `String` format.

```swift
let jwt = try JWTGenerator.generateJWT(header: header, payload: payload, privateKey: privateKey)
```

#### Supported Algorithms

The supported algorithms for signing JWT are:

* RS256 - RSASSA-PKCS1-v1_5 using SHA-256
* RS384 - RSASSA-PKCS1-v1_5 using SHA-384
* RS512 - RSASSA-PKCS1-v1_5 using SHA-512
